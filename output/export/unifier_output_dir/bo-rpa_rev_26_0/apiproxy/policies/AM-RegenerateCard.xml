<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage async="false" continueOnError="false" enabled="true" name="AM-RegenerateCard">
    <DisplayName>AM-RegenerateCard</DisplayName>
    <FaultRules/>
    <Properties/>
    <Set>
        <Headers>
            <Header name="correlation-id">{Context.correlationId}</Header>
            <Header name="x-correlation-id">{Context.correlationId}</Header>
            <Header name="person-id">{payload.personId}</Header>
            <Header name="Authorization">Bearer {impersonateAccessToken}</Header>
            <Header name="Accept">application/vnd.c6bank+json; version=3</Header>
        </Headers>
        <Payload contentType="application/json">
            {
                "reason": "{RegenerateCardPayload.reason}"
            }
        </Payload>
        <Verb>POST</Verb>
        <Path>/card/{payload.cardId}/regenerate</Path>
    </Set>
    <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
    <AssignTo type="request" transport="http" createNew="true">request</AssignTo>
</AssignMessage>
